---
import { Header } from '../components/Header.tsx';
import { Loading } from '../components/Loading.tsx';
import FirstView from '../components/FirstView.astro';
import News from '../components/News.astro';
import Story from '../components/Story.astro';
// import Character from '../components/Character.astro';
import Movie from '../components/Movie.astro';
import { Footer } from '../components/Footer.tsx';
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <Header client:load />
  <Loading client:load />
  <div class="overlay"></div>
  <FirstView />
  <main>
    <News />
    <Story />
    <!-- <Character /> -->
    <Movie />
  </main>
  <Footer />
</Layout>

<style>
  main {
    margin: 0 auto;
    max-width: 1200px;
  }

  .overlay {
    position: fixed;
    inset: 0;
    background-color: var(--background-color);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    opacity: 1;
  }

  .loaded {
    display: none;
  }
</style>

<script>
  const overlay = window.document.querySelector('.overlay');

  window.addEventListener('load', () => {
    overlay?.classList.add('loaded');
  });
</script>
